# Fast Algorithms for Mining Association Rules

## 3 Performance

### 3.3 Generation of Synthetic Data

我們生成了綜合事務，以評估算法在大範圍數據特徵上的性能。
這些交易模仿零售環境中的交易。
我們的“真實”世界模型是人們傾向於一起購買多件物品。
每個這樣的集合可能是最大的大物品集。
這樣的一組的一個例子可能是床單，枕套，被子，和褶邊。
但是，有些人可能從這樣的一組中只購買一些物品。
例如，有些人可能只買床單和枕套，有些人只買床單。
交易可能包含多個大物品集。
例如，顧客可以在訂購床單和枕套時訂購禮服和夾克，其中禮服和夾克一起形成另一個大型物品集。
交易規模通常圍繞均值進行聚類，少數交易有很多物品。
大物品集的典型大小也圍繞均值聚集，少數大物品集具有大量物品。
為了創建資料集，我們的合成資料生成程式採用表2中所示的參數。

Table 2: Parameters
|       |                            |
| :---: | :------------------------: |
| \|D\| | 交易數量                   |
| \|T\| | 交易的平均規模             |
| \|I\| | 最大可能大物品集的平均大小 |
| \|L\| | 最大可能大物品集的數量     |
|   N   | 物品的個數                 |

我們首先確定下一個交易的大小。
大小從平均值 μ 等於 `|T|` 的**泊松分佈**中選取。
請注意，如果選擇的每個物品具有相同的概率 p，並且有 N 個物品，
==交易中預期的物品數量由具有參數 N 和 p 的**二項分佈**給出，==
==並且由具有平均 Np 的泊松分佈近似。==

然後我們將物品分配給交易。
每個交易都分配了一系列可能很大的物品集。
==如果手頭上的大物品集不適合交易，==
在一半的情況下，物品集總是放在交易中，
其他情況下，物品集被移到下一筆交易。

==從這些物品集的集合 T 中選擇大物品集。==
T 中的物品集數量設置為 `|L|`。
`|L|` 與 ==潛在的大項集的平均載體（？）== 之間存在反比關係。
通過首先從平均值 μ 等於 `|I|` 的**泊松分佈**中選擇物品集的大小來生成 T 中的物品集。
第一個物品集中的物品是隨機選擇的。
為了模擬大型物品集通常具有共同物品的現象，
在一連串的物品集中的一些（fraction）物品是從之前的物品集中選擇。
我們使用**指數分佈**的隨機變量，其均值等於相關級別，以確定每個物品集的這個分數（fraction）。
其餘物品隨機挑選。
在實驗中使用的資料集中，相關水平設定為 0.5。
我們進行了一些實驗，相關水平設置為 0.25 和 0.75，但對於我們的性能結果沒有太大影響。

T 中的每個物品集都有一個與之關聯的權重，這與該物品集的選取概率相對應。
該權重從具有單位平均值的**指數分佈**中選取，然後對其進行歸一化，使得 T 中所有物品集的權重之和為 1。
通過拋擲 L 面加權硬幣從 T 中選擇要放入交易中的下一個物品集，每一側的權重是挑選相關物品集的概率。

為了模擬大型物品集中的所有物品並非總是一起購買的現象，
我們在 T 中為每個物品集分配一個腐敗級別 c。
將物品集添加到交易時，
只要 0 到 1 之間的均勻分佈的隨機數小於 c，我們就會繼續從物品集中刪除物品。
因此，對於大小為 l 的物品集，我們將向交易 `1-c` 中添加 `l` 個物品，`c(1-c)` 時為 `l-1` 個物品，`c^2(1-c)` 時爲 `l-2` 個物品，依此類推。
物品集的損壞級別是固定的，並且是從正態分佈獲得的，均值為 0.5，方差為 0.1。

我們通過設置 `N = 1000` 和 `|L| = 2000` 生成資料集。
我們為 `|T|` 選擇 3 個值：5，10，20。
我們也為 `|I|` 選擇 3 個值：2，4，6。
交易的數量設置為 100,000，因為正如我們將在 3.4 節中看到的那樣，SETM 無法運行更大的值。
但是，對於我們的放大實驗，我們生成了多達 1000 萬筆交易的資料集（T20 為 838MB）。
表 3 總結了資料集參數設置。
對於相同的 `|T|` 和 `|D|` 值，數據集的大小（megabytes）對於不同的 `|I|` 值大致相等。

Table 3: Parameter settings
| Name         | \|T\| | \|I\| | \|D\| | Size in Megabytes |
| :----------: | :---: | :---: | :---: | :---------------: |
| TS.12.DlO0K  |  5    |  2    |  lO0K | 2.4               |
| Tl0.12.DlO0K |  10   |  2    |  lO0K | 4.4               |
| Tl0.14.DlO0K |  10   |  4    |  lO0K |                   |
| T20.12.DlO0K |  20   |  2    |  lO0K | 8.4               |
| T20.14.Dl00K |  20   |  4    |  lO0K |                   |
| T20.16.DlO0K |  20   |  6    |  lOOK |                   |
